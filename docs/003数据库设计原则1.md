第三章 数据库设计原则
====

3.1 核心原则
----
 `【规则3-1.1】`数据库只做数据存储，不做业务逻辑和数据运算。
 
 `【规则3-1.2】` cpu计算密集型的任务，必须移至程序的模型层处理。
 
 `【规则3-1.3】` 控制字段表的列数，尽可能少于20。
 
 `【规则3-1.4】` 效率优先，适当的冗余来提升效率。
 
 `【规则3-1.5】` 严禁超长的SQL语句，严禁2个以上的联表查询，严禁大的事务处理，严禁大批量SQL的写入和更新，删除等操作，严禁大批量数据查询。
 
3.2 字段类原则

`【规则3-2.1】` 合适的字段，节省空间，提升查询效率。

`【规则3-2.2】` 能用数字字段的SQL语句，尽量避免用字符字段。

`【规则3-2.3】`  避免使用NULL字段。

`【规则3-2.4】` 尽量用varchar字段替代text。

3.3 索引类原则

`【规则3-3.1】` 合理使用索引，索引不是越多越好，在大数据量的情况下，除专业DBA外，禁止擅自创建索引。

`【规则3-3.2】` 常用查询的字符字段必须建立前缀索引。

`【规则3-3.3】` 不在索引字段做运算。

`【规则3-3.4】` innodb主键使用自增列。

`【规则3-3.5】` 禁止使用外键。

3.4 SQL原则
`【规则3-4.1】` SQL语句尽可能简单，尽可能减少子句，在程序层面拆分多次查询(一条查询语句只能利用CPU的一个核心，一个SQL可以堵死整个服务)。
`【规则3-4.2】` 常规情况下，禁止使用触发器，应该在程序层面进行数据同步写入，比如双写。
`【规则3-4.3】` 禁止使用 SELECT *


